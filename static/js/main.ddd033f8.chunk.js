(this.webpackJsonpchores=this.webpackJsonpchores||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var o=a(0),s=a.n(o),n=a(3),r=a.n(n),i=(a(9),a(1));a(10);var l=e=>t=>s.a.createElement(e,Object.assign({loadFromStorage:e=>localStorage.getItem(e),saveToStorage:(e,t)=>localStorage.setItem(e,t),removeFromStorage:e=>localStorage.removeItem(e)},t));class c extends s.a.Component{constructor(...e){super(...e),this.state={title:"",lastDone:"",disableRemove:!1},this.setNow=e=>{this.setState({lastDone:this.getNowString()})},this.getNowString=()=>(new Date).toISOString()}render(){const e=this.state.title,t=this.state.lastDone,a=a=>this.props.addChore(e,t);return s.a.createElement("div",{className:"add-chore"},"Add a new task ",s.a.createElement("br",null),s.a.createElement("input",{type:"text",placeholder:"Title",onChange:e=>this.setState({title:e.target.value}),value:this.state.title}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",placeholder:"Last done",onChange:e=>this.setState({lastDone:e.target.value}),value:this.state.lastDone,onKeyDown:e=>13===e.keyCode?a():""}),s.a.createElement("button",{onClick:this.setNow},"Now"),s.a.createElement("br",null),s.a.createElement("button",{onClick:a},"Add task"))}}var h=l(c);var m=({c:e,remove:t,didIt:a})=>s.a.createElement("div",{className:"chore"},s.a.createElement("div",null,s.a.createElement("div",null,e.title),s.a.createElement("div",null,function(e){let t=(new Date).getTime()-new Date(e).getTime(),a=Math.ceil(t/1e3);if(a<60)return"".concat(a,"s");let o=Math.floor(a/60),s=a%60;if(o<60)return"".concat(o,"min, ").concat(s,"s");let n=Math.floor(o/60),r=o%60;if(n<24)return"".concat(n,"h, ").concat(r,"min");let i=Math.floor(n/24),l=n%24;return i<14?"".concat(i,"d, ").concat(l,"h"):"More than ".concat(i,"d")}(e.lastDone))),s.a.createElement("button",{onClick:()=>a(e)},"Did it!"),s.a.createElement("button",{onClick:a=>t(e.title,e.lastDone),className:"ghost"},"Remove"));var d=({chores:e,remove:t,didIt:a})=>s.a.createElement("div",{className:"chore-list"},e.map(e=>s.a.createElement(m,{c:e,didIt:a,remove:t,key:e.title+e.lastDone})));class v extends o.Component{constructor(e){super(e),this.didIt=e=>{this.saveList(this.state.chores.map(t=>this.sameChore(t,e)?Object(i.a)(Object(i.a)({},t),{},{lastDone:(new Date).toISOString()}):t))},this.sameChore=(e,t)=>e.title===t.title&&e.lastDone===t.lastDone,this.addNewChore=(e,t)=>{if(!this.state.chores.find(a=>this.sameChore(a,{title:e,lastDone:t}))){const a=[...this.state.chores,{title:e,lastDone:t}];this.saveList(a)}},this.removeChore=(e,t)=>{const a=this.state.chores.filter(a=>a.title!==e||a.lastDone!==t);this.saveList(a)},this.saveList=e=>{this.setState({chores:e}),this.props.saveToStorage("chores",JSON.stringify(e))};let t=e.loadFromStorage("chores");t||localStorage.setItem("chores",JSON.stringify([]));let a=[];if(t)try{a=JSON.parse(t)}catch(o){a=[]}this.state={chores:a}}render(){return s.a.createElement("div",{className:"App"},s.a.createElement(h,{addChore:this.addNewChore}),s.a.createElement(d,{chores:this.state.chores,remove:this.removeChore,didIt:this.didIt}))}}var u=l(v);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.ddd033f8.chunk.js.map